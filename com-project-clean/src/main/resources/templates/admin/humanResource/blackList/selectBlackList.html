<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <span>블랙리스트 조회</span>

    <select name="blackListCategory" id="blackListCategory">
        <option value="blackListEmpNo" selected>사원번호</option>
        <option value="blackListEmpName">이름</option>
        <option value="blackListEmpBirth">생년월일</option>
        <option value="blackListEmpAddress">주소</option>
        <option value="blackListEmpPhone">전화번호</option>
        <option value="blackSumCount">누적경고횟수</option>
    </select>
    <input type="text" name="blackListCategoryValue">
    <button type="button" id="blackListSearch">검색</button>

    <table id="employeeList" border="1">
        <thead>
            <tr>
                <th>사원번호</th>
                <th>이름</th>
                <th>생년월일</th>
                <th>주소</th>
                <th>전화번호</th>
                <th>입사날짜</th>
                <th>누적경고횟수</th>
            </tr>
        </thead>
        <tbody>
        <c:forEach varStatus="index" items="${requestScope.data}">
            <tr>
                <td>${ index.waitEmpNo }</td>
                <td>${ index.waitEmpName }</td>
                <td>${ index.waitEmpBirth }</td>
                <td>${ index.waitEmpAddress }</td>
                <td>${ index.waitEmpPhone }</td>
                <td>${ index.waitEmpHiredDate }</td>
                <td>${ index.sumCount }</td>
            </tr>
        </c:forEach>
        </tbody>
    </table>

<script>
            /* 검색기능 list 출력 */
		$("#returnSearch").click(function(){
			$.ajax({
				url : "gson1",
				success:function(data){

					const $table = $("#employeeList tbody");
					$table.html("");
					
					for(var index in data){
						$tr = $("<tr>");
						$noTd = $("<td>").text(data[index].no);
						$nameTd = $("<td>").text(data[index].name);
						$ageTd = $("<td>").text(data[index].age);
						$enrollDateTd = $("<td>").text(data[index].enrollDate);
						$unknown1 = $("<td>").text(data[index].enrollDate);
						$unknown2 = $("<td>").text(data[index].enrollDate);
						
						$tr.append($noTd);
						$tr.append($nameTd);
						$tr.append($ageTd);
						$tr.append($enrollDateTd);
						$tr.append($unknown1);
						$tr.append($unknown2);
						
						$table.append($tr);
					}
				},
				error:function(error){
					console.log(error);
				}
			});
		});
</script>

</body>
</html>